<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>The Rekt Runner</title><meta name="base:app_id" content="6942be28d19763ca26ddc3a0" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <meta name="fc:miniapp" content="{&quot;version&quot;:&quot;1&quot;,&quot;imageUrl&quot;:&quot;https://rektrunner.vercel.app/assets/embed-3x2.png&quot;,&quot;button&quot;:{&quot;title&quot;:&quot;Run&quot;,&quot;action&quot;:{&quot;type&quot;:&quot;launch_frame&quot;,&quot;url&quot;:&quot;https://rektrunner.vercel.app/&quot;}},&quot;splashImageUrl&quot;:&quot;https://rektrunner.vercel.app/assets/splash.png&quot;,&quot;splashBackgroundColor&quot;:&quot;#020617&quot;,&quot;name&quot;:&quot;TheRektRunner&quot;}" />
  <meta name="fc:frame" content="vNext" />

  <meta property="og:title" content="The Rekt Runner" />
  <meta property="og:description" content="An infinite runner inside a trading chart. Volatility becomes terrainâ€”jump dumps, dodge bear traps, ride green candles." />
  <meta property="og:image" content="https://rektrunner.vercel.app/assets/hero.png" />

  <style>
    :root {
      --bg:#000000;
      --grid:#07331f;
      --neon:#00ff66;
      --mint:#8affbf;
      --danger:#ff0033;
      --panel:rgba(0,0,0,0.72);
      --stroke:rgba(0,255,102,0.22);
      --shadow: rgba(0,255,102,0.22);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; margin:0; background:var(--bg); color:var(--neon); font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; overflow:hidden; }
    #wrap{ position:fixed; inset:0; display:flex; flex-direction:column; }
    #hud{ position:absolute; inset:0; pointer-events:none; }
    #topbar{ position:absolute; left:12px; right:12px; top:10px; display:flex; align-items:flex-start; justify-content:space-between; gap:10px; }
    .chip{ pointer-events:none; background:var(--panel); border:1px solid var(--stroke); border-radius:14px; padding:10px 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.45), 0 0 0 1px rgba(0,255,102,0.08) inset; }
    .title{ font-weight:700; letter-spacing:0.4px; }
    .sub{ color:var(--mint); font-size:12px; margin-top:4px; }
    #pnl{ font-size:13px; }
    #pnl strong{ color:var(--neon); }

    #canvas{ width:100%; height:100%; display:block; background:var(--bg); }
    #controls{ position:absolute; left:12px; right:12px; bottom:12px; display:flex; align-items:center; justify-content:space-between; gap:10px; pointer-events:none; }
    .btn{ pointer-events:auto; border:none; border-radius:16px; padding:12px 14px; font-weight:700; letter-spacing:0.2px; }
    .btn.primary{ background:linear-gradient(180deg, rgba(0,255,102,0.95), rgba(0,160,64,0.95)); color:#001a0a; box-shadow: 0 10px 25px rgba(0,255,102,0.16); }
    .btn.ghost{ background:var(--panel); color:var(--neon); border:1px solid var(--stroke); }
    .hint{ pointer-events:none; flex:1; background:var(--panel); border:1px dashed rgba(0,255,102,0.25); color:var(--mint); border-radius:16px; padding:12px 14px; font-size:12px; line-height:1.3; }

    /* Bottom sheet */
    #sheetBack{ position:fixed; inset:0; background:rgba(0,0,0,0.62); opacity:0; pointer-events:none; transition:opacity .22s ease; }
    #sheet{ position:fixed; left:0; right:0; bottom:-520px; background:rgba(0,0,0,0.92); border-top:1px solid rgba(0,255,102,0.18); box-shadow: 0 -20px 60px rgba(0,0,0,0.7); border-top-left-radius:22px; border-top-right-radius:22px; padding:14px 14px 16px; transition:transform .28s cubic-bezier(.2,.9,.2,1); transform:translateY(0); }
    #sheet.open{ transform:translateY(-520px); }
    #sheetBack.open{ opacity:1; pointer-events:auto; }

    .sheetHead{ display:flex; justify-content:space-between; align-items:center; gap:10px; }
    .sheetHead .h{ font-weight:800; }
    .x{ border:1px solid rgba(0,255,102,0.22); background:transparent; color:var(--neon); border-radius:14px; padding:8px 10px; }
    .row{ display:flex; gap:10px; margin-top:12px; flex-wrap:wrap; }
    .pill{ border:1px solid rgba(0,255,102,0.22); background:rgba(0,255,102,0.06); color:var(--neon); padding:10px 12px; border-radius:16px; font-weight:700; }
    .pill.active{ background:rgba(0,255,102,0.18); }
    .field{ margin-top:12px; display:flex; gap:10px; align-items:center; }
    input{ flex:1; border-radius:16px; border:1px solid rgba(0,255,102,0.22); background:rgba(0,0,0,0.6); color:var(--neon); padding:12px 12px; outline:none; }
    .cta{ width:100%; margin-top:12px; border:none; border-radius:18px; padding:14px 14px; font-weight:900; letter-spacing:0.3px; }
    .cta.ok{ background:linear-gradient(180deg, rgba(0,255,102,0.95), rgba(0,160,64,0.95)); color:#001a0a; }
    .cta.disabled{ background:rgba(255,255,255,0.08); color:rgba(255,255,255,0.6); }
    .fine{ margin-top:10px; color:rgba(138,255,191,0.78); font-size:12px; line-height:1.35; }
    .toast{ position:fixed; left:50%; bottom:96px; transform:translateX(-50%) translateY(14px); background:rgba(0,0,0,0.82); border:1px solid rgba(0,255,102,0.18); color:var(--mint); padding:10px 12px; border-radius:16px; opacity:0; transition:opacity .18s ease, transform .18s ease; pointer-events:none; max-width:min(520px, calc(100vw - 24px)); text-align:center; }
    .toast.show{ opacity:1; transform:translateX(-50%) translateY(0); }
    .bar{ height:8px; border-radius:999px; background:rgba(0,255,102,0.12); overflow:hidden; margin-top:10px; border:1px solid rgba(0,255,102,0.18); }
    .bar > i{ display:block; height:100%; width:0%; background:rgba(0,255,102,0.8); }
  </style>
</head>
<body>
  <div id="wrap">
    <canvas id="canvas"></canvas>

    <div id="hud">
      <div id="topbar">
        <div class="chip">
          <div class="title">TheRektRunner</div>
          <div id="mode" class="sub">Detectingâ€¦</div>
        </div>
        <div class="chip" id="pnl">
          <div>Unrealized PnL</div>
          <div><strong id="pnlVal">+$0.00</strong></div>
        </div>
      </div>

      <div id="controls">
        <div class="hint">
          Tap to jump. Red candles drop the floor. Green candles = boost.
        </div>
        <button id="tipBtn" class="btn ghost" aria-label="Tip">Tip</button>
        <button id="restartBtn" class="btn primary" aria-label="Restart">Restart</button>
      </div>
    </div>
  </div>

  <div id="sheetBack"></div>
  <div id="sheet" aria-hidden="true">
    <div class="sheetHead">
      <div>
        <div class="h">Tip with USDC (Base)</div>
        <div class="sub">A little fuel for the runner ðŸŸ©</div>
      </div>
      <button class="x" id="closeSheet" aria-label="Close">âœ•</button>
    </div>

    <div class="row" id="presetRow">
      <button class="pill" data-amt="1">$1</button>
      <button class="pill" data-amt="5">$5</button>
      <button class="pill" data-amt="10">$10</button>
      <button class="pill" data-amt="25">$25</button>
    </div>

    <div class="field">
      <input id="customAmt" inputmode="decimal" placeholder="Custom amount (e.g. 3.50)" />
      <button class="pill" id="useCustom">Use</button>
    </div>

    <button id="sendBtn" class="cta ok">Send USDC</button>
    <div class="bar" id="prepBar" style="display:none;"><i></i></div>

    <div class="fine" id="finePrint">
      If RECIPIENT or BUILDER_CODE is still TODO, sending is disabled.
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <script type="module" src="./script.js"></script>
  <script src="./TheRektRunner-ui.js"></script>
</body>
</html>
